<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ±Ø§Ø± Ø±Ù†Ú¯â€ŒÙ‡Ø§ - Ù†Ø³Ø®Ù‡ Ø§Ù„Ø§ÛŒØª</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;700&display=swap" rel="stylesheet">
    <style>
    
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(45deg, #f3ec78, #af4261);
            background-size: 200% 200%;
            animation: gradientAnimation 5s ease infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            text-align: center;
            color: #fff;
            direction: rtl;
        }
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        #game-area {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }
        .color-button {
            width: 100px;
            height: 100px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transform: scale(1);
            transition: transform 0.2s;
        }
        .color-button:hover {
            transform: scale(1.1);
        }
        #message {
            margin-top: 20px;
            font-size: 1.5em;
            font-weight: bold;
            transition: all 0.5s ease;
        }
        #score, #high-score {
            margin-top: 10px;
            font-size: 1.2em;
        }
        .start-button, .restart-button {
            margin-top: 20px;
            padding: 15px 20px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #ff416c, #ff4e50);
            color: white;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            transition: all 0.4s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .start-button:hover, .restart-button:hover {
            transform: scale(1.15);
            background: linear-gradient(45deg, #ff758c, #ff616d);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
        }
        .start-button.fade-out, .restart-button.fade-out {
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }
        .time-bar {
            width: 80%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        .time-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, #ff4e50, #f9d423);
            width: 100%;
            transition: width 0.1s linear;
            border-radius: 10px 0 0 10px;
            opacity: 1;
        }
        .time-bar-inner.start-animation {
            animation: fadeIn 1s forwards;
        }
        .time-bar-inner.end-animation {
            animation: fadeOut 1s forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        #controls {
            position: fixed;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .theme-button {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            border: none;
            padding: 10px 15px;
            font-size: 1em;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .theme-button:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }
        #guide-tab {
            position: fixed;
            top: 10px;
            left: 10px;
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            font-size: 0.9em;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, background 0.3s ease;
            text-decoration: none;
        }
        #guide-tab:hover {
            transform: scale(1.1);
            background: linear-gradient(45deg, #3399ff, #0066cc);
        }
        .credits {
            position: fixed;
            bottom: 10px;
            left: 10px;
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.7);
            animation: fadeInCredits 2s ease-in-out infinite;
        }
        @keyframes fadeInCredits {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
            
        }
        .theme-button.dark {
    background: linear-gradient(45deg, #4facfe, #00f2fe);
    position: relative;
    transition: background 0.3s ease;
}

.theme-button.dark:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}
    </style>
</head>
<body>
    <h1>ÙØ±Ø§Ø± Ø±Ù†Ú¯â€ŒÙ‡Ø§</h1>
    <p>Ù…Ù†ØªØ¸Ø± Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù‡Ø³ØªÛŒÙ…! â°</p>
    <div class="time-bar">
        <div class="time-bar-inner" id="time-bar-inner"></div>
    </div>
    <button class="start-button" onclick="startGame()">ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
    <div id="game-area">
        <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ù†Ú¯ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´Ø¯ -->
    </div>
    <div id="message">Ù…Ù†ØªØ¸Ø± Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù‡Ø³ØªÛŒÙ…!</div>
    <div id="score">Ø§Ù…ØªÛŒØ§Ø²: 0</div>
    <div id="high-score">Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ú©ÙˆØ±Ø¯: 0</div>
    <div id="controls">
        <button class="theme-button" onclick="changeTheme('light')">ğŸŒ ØªÙ… Ø±ÙˆØ´Ù†</button>
        <button class="theme-button" onclick="changeTheme('dark')">ğŸŒ™ ØªÙ… ØªØ§Ø±ÛŒÚ©</button>
        <div id="theme-error" style="color: red; font-size: 0.9em; opacity: 0; transition: opacity 0.5s;">
            <!-- Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
        
    </div>

    <!-- ØªØ¨ Ø±Ø§Ù‡Ù†Ù…Ø§ -->
    <button id="guide-tab" onclick="showGuide()">ğŸ“˜ Ø±Ø§Ù‡Ù†Ù…Ø§</button>
    <div class="credits">Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³Ø±ÙˆØ´</div>
    <script>
        const colors = [
            { name: "Ù‚Ø±Ù…Ø²", code: "red" },
            { name: "Ø¢Ø¨ÛŒ", code: "blue" },
            { name: "Ø³Ø¨Ø²", code: "green" },
            { name: "Ø²Ø±Ø¯", code: "yellow" },
            { name: "Ø¨Ù†ÙØ´", code: "purple" },
            { name: "Ù†Ø§Ø±Ù†Ø¬ÛŒ", code: "orange" },
            { name: "ØµÙˆØ±ØªÛŒ", code: "pink" },
            { name: "Ù‚Ù‡ÙˆÙ‡â€ŒØ§ÛŒ", code: "brown" },
            { name: "Ø®Ø§Ú©Ø³ØªØ±ÛŒ", code: "gray" },
            { name: "Ø³ÛŒØ§Ù‡", code: "black" },
            { name: "Ø³ÙÛŒØ¯", code: "white" }
        ];
    
        let targetColor = ""; // Ø±Ù†Ú¯ Ù‡Ø¯Ù
        let score = 0; // Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ù„ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†
        let highScore = localStorage.getItem("highScore") || 0; // Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ú©ÙˆØ±Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
        let timer; // Ù…Ø¯ÛŒØ±ÛŒØª ØªØ§ÛŒÙ…â€ŒÙ„Ø§ÛŒÙ†
        let timerDuration = 5000; // Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø§ÙˆÙ„ÛŒÙ‡ ØªØ§ÛŒÙ…â€ŒÙ„Ø§ÛŒÙ†
    
        const gameArea = document.getElementById("game-area");
        const message = document.getElementById("message");
        const scoreDisplay = document.getElementById("score");
        const highScoreDisplay = document.getElementById("high-score");
        const timeBarInner = document.getElementById("time-bar-inner");
        const guideTab = document.getElementById("guide-tab");
    
        highScoreDisplay.innerText = `Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ú©ÙˆØ±Ø¯: ${highScore}`;
    
        function generateButtons() {
            gameArea.innerHTML = ""; // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
            colors.forEach(color => {
                const button = document.createElement("button");
                button.className = "color-button";
                button.style.backgroundColor = color.code;
                button.addEventListener("click", () => checkColor(color.name));
                gameArea.appendChild(button);
            });
        }
    
        function setTargetColor() {
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            targetColor = randomColor.name;
            message.innerText = `Ø±Ù†Ú¯ Ù‡Ø¯Ù: ${targetColor}`;
        }
    
        function checkColor(selectedColor) {
            if (selectedColor === targetColor) {
                score += 5;
                message.innerText = "Ø¢ÙØ±ÛŒÙ†! Ø¯Ø±Ø³Øª Ú©Ù„ÛŒÚ© Ú©Ø±Ø¯ÛŒ ğŸ‰";
                timerDuration = Math.max(2000, timerDuration - 200); // Ú©Ø§Ù‡Ø´ ØªØ¯Ø±ÛŒØ¬ÛŒ Ù…Ø¯Øª ØªØ§ÛŒÙ…â€ŒÙ„Ø§ÛŒÙ†
            } else {
                score -= 50;
                message.innerText = "Ø§Ø´ØªØ¨Ø§Ù‡ Ú©Ø±Ø¯ÛŒ! ğŸ˜”";
            }
    
            scoreDisplay.innerText = `Ø§Ù…ØªÛŒØ§Ø²: ${score}`;
    
            if (score > highScore) {
                highScore = score;
                localStorage.setItem("highScore", highScore);
                highScoreDisplay.innerText = `Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ú©ÙˆØ±Ø¯: ${highScore}`;
            }
    
            clearTimeout(timer); // Ù…ØªÙˆÙ‚Ù Ú©Ø±Ø¯Ù† ØªØ§ÛŒÙ…Ø± Ù‚Ø¨Ù„ÛŒ
            startTimer(); // Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªØ§ÛŒÙ…Ø±
            setTargetColor(); // ØªÙ†Ø¸ÛŒÙ… Ø±Ù†Ú¯ Ù‡Ø¯Ù Ø¬Ø¯ÛŒØ¯
        }
    
        function startTimer() {
            timeBarInner.classList.remove("end-animation");
            timeBarInner.classList.add("start-animation");
            timeBarInner.style.opacity = "1";
    
            timeBarInner.style.width = "100%";
            let timeLeft = timerDuration;
            const interval = 50;
    
            timer = setInterval(() => {
                timeLeft -= interval;
                const percentage = (timeLeft / timerDuration) * 100;
                timeBarInner.style.width = `${percentage}%`;
    
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeBarInner.classList.add("end-animation");
                    endGame(); // Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ Ø¯Ø± ØµÙˆØ±Øª Ø§ØªÙ…Ø§Ù… ØªØ§ÛŒÙ…
                }
            }, interval);
        }
    
        function endGame() {
            message.innerText = "Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯! ğŸ’€";
            gameArea.innerHTML = ""; // Ø­Ø°Ù Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ù†Ú¯
            timeBarInner.style.opacity = "0"; // Ù…Ø­Ùˆ Ú©Ø±Ø¯Ù† ØªØ§ÛŒÙ…â€ŒÙ„Ø§ÛŒÙ†
    
            // Ù†Ù…Ø§ÛŒØ´ Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
            const restartButton = document.createElement("button");
            restartButton.className = "restart-button";
            restartButton.innerText = "ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯";
            restartButton.onclick = () => {
                restartButton.remove(); // Ø­Ø°Ù Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                startGame(); // Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ
            };
            document.body.appendChild(restartButton);
        }
    
        function startGame() {
            // Ù…Ø­Ùˆ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ "Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ"
            const startButton = document.querySelector(".start-button");
            if (startButton) {
                startButton.classList.add("fade-out");
    
                setTimeout(() => {
                    startButton.style.display = "none"; // Ø­Ø°Ù Ú©Ø§Ù…Ù„ Ø¯Ú©Ù…Ù‡ Ù¾Ø³ Ø§Ø² Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                }, 500);
            }
    
            // Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ùˆ ØªØ§ÛŒÙ…Ø±
            score = 0;
            timerDuration = 5000; // Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ØªØ§ÛŒÙ…Ø± Ø¨Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡
            message.innerText = "Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ø´Ø¯! ğŸ¯";
            scoreDisplay.innerText = `Ø§Ù…ØªÛŒØ§Ø²: 0`;
    
            // ØªÙ†Ø¸ÛŒÙ… Ø±Ù†Ú¯ Ù‡Ø¯Ù Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ù†Ú¯
            setTargetColor();
            generateButtons();
    
            // Ø´Ø±ÙˆØ¹ ØªØ§ÛŒÙ…Ø±
            startTimer();
        }
    
        // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§
        function showGuide() {
            alert(`Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø´Ù…Ø§ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø¨Ø± Ø±ÙˆÛŒ Ø±Ù†Ú¯ Ù‡Ø¯Ù Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ú¯ÛŒØ±ÛŒØ¯!
    Ø¶Ù…Ù†Ø§ Ù‡Ø± Ø¨Ø§Ø±ÛŒ Ú©Ù‡ Ú©Ù„ÛŒÚ© Ø§Ø´ØªØ¨Ø§Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø§Ø² Ø´Ù…Ø§ 50 Ø§Ù…ØªÛŒØ§Ø² Ú©Ø³Ø± Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯! Ù…ÙˆØ§Ø¸Ø¨ Ø¨Ø§Ø´ÛŒØ¯!
    Ø¨Ø§ Ù‡Ø± 5 Ø­Ø¯Ø³ Ø¯Ø±Ø³ØªØŒ Ø³Ø±Ø¹Øª Ø¨Ø§Ø²ÛŒ Ùˆ ØªØ§ÛŒÙ…â€ŒÙ„Ø§ÛŒÙ† Ú©Ù…ØªØ± Ù…ÛŒØ´ÙˆØ¯ Ùˆ Ø²Ù…Ø§Ù† Ú©Ù…ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ø¯Ø³ Ø²Ø¯Ù† Ø¯Ø§Ø±ÛŒØ¯!
    Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯ Ø¯ÙˆØ³ØªØ§Ù†! ğŸ®`);
        }
    
        // Ù†Ù…Ø§ÛŒØ´ ØªÙ… Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø§Ø² Ù‚Ø¨Ù„ Ø¯Ø± localStorage
        function changeTheme(theme) {
    if (theme === 'dark') {
        if (highScore >= 250) {
            document.body.style.background = 'linear-gradient(45deg, #000000, #434343)';
            document.body.style.color = '#fff';
            alert("ØªÙ… ØªØ§Ø±ÛŒÚ© ÙØ¹Ø§Ù„ Ø´Ø¯!");
            // Ø­Ø°Ù Ù‚ÙÙ„ Ø§Ø² Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡
            const darkButton = document.querySelector('.theme-button.dark');
            darkButton.style.backgroundImage = 'none';
        } else {
            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø§Ø±ÙˆØ±
            const errorElement = document.getElementById("theme-error");
            errorElement.innerText = "Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ú©ÙˆØ±Ø¯ Ø´Ù…Ø§ Ø¨Ø§Ù„Ø§ÛŒ Û²ÛµÛ° Ø¨Ø§Ø´Ø¯!";
            errorElement.style.opacity = 1;
            setTimeout(() => {
                errorElement.style.opacity = 0;
            }, 3000);
            return;
        }
    } else if (theme === 'light') {
        document.body.style.background = 'linear-gradient(45deg, #f3f4f7, #6c757d)';
        document.body.style.color = '#000';
    }

    localStorage.setItem("theme", theme);
}

function updateDarkButtonState() {
    const darkButton = document.querySelector('.theme-button.dark');
    if (highScore < 250) {
        darkButton.style.backgroundImage = "url('lock-icon.png')"; // Ù…Ø³ÛŒØ± Ø¢ÛŒÚ©ÙˆÙ† Ù‚ÙÙ„
        darkButton.style.backgroundRepeat = "no-repeat";
        darkButton.style.backgroundPosition = "center";
        darkButton.disabled = true;
    } else {
        darkButton.style.backgroundImage = "none";
        darkButton.disabled = false;
    }
}

// ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
updateDarkButtonState();
    </script>
</body>
</html>
    
